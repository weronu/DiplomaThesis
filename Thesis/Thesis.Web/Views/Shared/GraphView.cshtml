@{
    Layout = null;
}

@model Thesis.Web.Models.GraphViewModel
<div class="graph-network" id="mynetwork">

</div>

<script type="text/javascript">
    
    $.ajax({
        url: '@Url.Action("RenderGraphView", "TeamMembersEmailGraphs")',
        datatype: 'json',
        type: "get",
        success: GraphVis,
        error: OnError
    });

        function GraphVis() {
            blockUI();
            var nodes = @Html.Raw(Json.Encode(Model.visGraphViewModel.nodes));
            var edges = @Html.Raw(Json.Encode(Model.visGraphViewModel.edges));

            // create a network
            var container = document.getElementById('mynetwork');

            // provide the data in the vis format
            var data = {
                nodes: nodes,
                edges: edges
            };
            var options = {
                nodes: {
                    shape: 'dot',
                    size: 10,
                    borderWidth: 1
                },

                interaction: { hover: false }
            };
            // initialize your network!
            var network = new vis.Network(container, data, options);

            unblockUI();
        }


</script>
