@{
    Layout = null;
}
@model Thesis.Web.Models.GraphViewModel

<div id="chartContainer"></div>

<script>
    $(document).ready(function () {


        var chart = new CanvasJS.Chart("chartContainer",
            {
                exportEnabled: true,
                animationEnabled: true,
                axisX: {
                    title: "Brokers"
                },
                axisY: {
                    title: "Brokerage score",
                    titleFontColor: "#721549",
                    lineColor: "#2a2a2a",
                    labelFontColor: "#2a2a2a",
                    tickColor: "#2a2a2a"
                },
                axisY2: {
                    title: "Clutch - Units",
                    titleFontColor: "#C0504E",
                    lineColor: "#C0504E",
                    labelFontColor: "#C0504E",
                    tickColor: "#C0504E"
                },
                toolTip: {
                    shared: true
                },
                legend: {
                    cursor: "pointer",
                    itemclick: toggleDataSeries
                },
                data: [
                    {
                        type: "column",
                        name: "Liaison",
                        showInLegend: true,
                        yValueFormatString: "#,##0.#",
                        dataPoints: @Html.Raw(Json.Encode(Model.DataPointDto.DataPointsLiaison))
                    },
                    {
                        type: "column",
                        name: "Coordinator",
                        showInLegend: true,
                        yValueFormatString: "#,##0.#",
                        dataPoints: @Html.Raw(Json.Encode(Model.DataPointDto.DataPointsCoordinator))
                    },
                    {
                        type: "column",
                        name: "Gatepeeker",
                        showInLegend: true,
                        yValueFormatString: "#,##0.#",
                        dataPoints: @Html.Raw(Json.Encode(Model.DataPointDto.DataPointsGatepeeker))
                    },
                    {
                        type: "column",
                        name: "Representative",
                        showInLegend: true,
                        yValueFormatString: "#,##0.#",
                        dataPoints: @Html.Raw(Json.Encode(Model.DataPointDto.DataPointsRepresentative))
                    },
                    {
                        type: "column",
                        name: "Itinerant",
                        showInLegend: true,
                        yValueFormatString: "#,##0.#",
                        dataPoints: @Html.Raw(Json.Encode(Model.DataPointDto.DataPointsItinerant))
                    },
                    {
                        type: "column",
                        name: "Total brokerage score",
                        showInLegend: true,
                        yValueFormatString: "#,##0.#",
                        dataPoints: @Html.Raw(Json.Encode(Model.DataPointDto.DataPointsTotal))
                    }
                ]
            });
        chart.render();

        function toggleDataSeries(e) {
            if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                e.dataSeries.visible = false;
            } else {
                e.dataSeries.visible = true;
            }
            e.chart.render();
        }

    });
</script>